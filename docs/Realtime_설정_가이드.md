# Supabase Realtime ì„¤ì • ê°€ì´ë“œ

## ğŸ”´ ë¬¸ì œ: ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ ì•ˆë¨

**ì¦ìƒ**:
- íŒŒì¼ í´ë¦­í•´ë„ ìš°ì¸¡ íŒ¨ë„ "ìµœê·¼ ì¡°íšŒ ìë£Œ"ì— ì¦‰ì‹œ ë°˜ì˜ ì•ˆë¨
- êµì¬ ìš”ì²­í•´ë„ ìš°ì¸¡ íŒ¨ë„ "êµì¬ ìš”ì²­ ìˆœìœ„"ì— ì¦‰ì‹œ ë°˜ì˜ ì•ˆë¨
- ê³µì§€ì‚¬í•­ ì‘ì„±í•´ë„ ë©”ì¸ í˜ì´ì§€ì— ì¦‰ì‹œ ë°˜ì˜ ì•ˆë¨

**ì›ì¸**: Supabase Realtimeì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŒ

---

## âœ… í•´ê²° ë°©ë²•

### 1. Supabase Dashboard ì ‘ì†
1. [Supabase Dashboard](https://supabase.com/dashboard) ë¡œê·¸ì¸
2. í”„ë¡œì íŠ¸ ì„ íƒ

### 2. Database â†’ Replication ì„¤ì •
1. ì¢Œì¸¡ ë©”ë‰´ì—ì„œ **Database** í´ë¦­
2. **Replication** íƒ­ í´ë¦­
3. ë‹¤ìŒ í…Œì´ë¸”ë“¤ì˜ **REALTIME** í† ê¸€ì„ **ON**ìœ¼ë¡œ ì„¤ì •:

#### í•„ìˆ˜ í…Œì´ë¸”
- âœ… `file_clicks` - íŒŒì¼ í´ë¦­ ì¶”ì 
- âœ… `textbook_requests` - êµì¬ ìš”ì²­
- âœ… `notices` - ê³µì§€ì‚¬í•­

### 3. í™•ì¸ ë°©ë²•

#### ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ í™•ì¸
1. F12 â†’ Console íƒ­ ì—´ê¸°
2. ë©”ì¸ í˜ì´ì§€ ì ‘ì†
3. ë‹¤ìŒ ë©”ì‹œì§€ í™•ì¸:

```
[Realtime] ìƒˆ í´ë¦­ ê°ì§€: {...}
[Realtime] êµì¬ ìš”ì²­ ë³€ê²½ ê°ì§€: {...}
[Realtime] ê³µì§€ì‚¬í•­ ë³€ê²½ ê°ì§€: {...}
```

#### ì‹¤ì œ í…ŒìŠ¤íŠ¸
1. **íŒŒì¼ í´ë¦­ í…ŒìŠ¤íŠ¸**
   - íŒŒì¼ í´ë¦­
   - 3ì´ˆ ì´ë‚´ì— ìš°ì¸¡ íŒ¨ë„ "ìµœê·¼ ì¡°íšŒ ìë£Œ" ì—…ë°ì´íŠ¸ í™•ì¸

2. **êµì¬ ìš”ì²­ í…ŒìŠ¤íŠ¸**
   - êµì¬ ìš”ì²­
   - 3ì´ˆ ì´ë‚´ì— ìš°ì¸¡ íŒ¨ë„ "êµì¬ ìš”ì²­ ìˆœìœ„" ì—…ë°ì´íŠ¸ í™•ì¸

3. **ê³µì§€ì‚¬í•­ í…ŒìŠ¤íŠ¸**
   - ë¸Œë¼ìš°ì € 2ê°œ ì°½ ì—´ê¸° (ë©”ì¸ í˜ì´ì§€ + ê´€ë¦¬ì í˜ì´ì§€)
   - ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ê³µì§€ ì‘ì„±
   - ë©”ì¸ í˜ì´ì§€ì—ì„œ ì¦‰ì‹œ í‘œì‹œ í™•ì¸

---

## ğŸš¨ ì—¬ì „íˆ ì•ˆë˜ë©´?

### ê°œë°œ ì„œë²„ ì¬ì‹œì‘
```bash
# Ctrl+Cë¡œ ì„œë²„ ì¢…ë£Œ
npm run dev
```

### ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ
- Ctrl + Shift + Delete
- ìºì‹œ ì‚­ì œ í›„ ìƒˆë¡œê³ ì¹¨

### Supabase ì—°ê²° í™•ì¸
```javascript
// ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰
const { createClient } = require('@supabase/supabase-js');
const supabase = createClient(
  'YOUR_SUPABASE_URL',
  'YOUR_SUPABASE_ANON_KEY'
);
supabase.channel('test').subscribe((status) => {
  console.log('Realtime status:', status);
});
```

---

## ğŸ“ ì°¸ê³ ì‚¬í•­

### Realtime ë™ì‘ ì›ë¦¬
1. SupabaseëŠ” PostgreSQLì˜ `pg_notify`ë¥¼ ì‚¬ìš©
2. í…Œì´ë¸”ì— ë³€ê²½ ë°œìƒ ì‹œ ìë™ìœ¼ë¡œ ì•Œë¦¼
3. í´ë¼ì´ì–¸íŠ¸ê°€ `channel`ë¡œ êµ¬ë…í•˜ì—¬ ì‹¤ì‹œê°„ ìˆ˜ì‹ 

### ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­
- Realtimeì€ WebSocket ì—°ê²° ì‚¬ìš©
- ë§ì€ ì‚¬ìš©ìê°€ ë™ì‹œì— êµ¬ë…í•˜ë©´ ë¹„ìš© ì¦ê°€ ê°€ëŠ¥
- ë¬´ë£Œ í”Œëœ: 200 concurrent connections

### RLS(Row Level Security)ì™€ Realtime
- Realtimeì€ RLS ì •ì±…ì„ ë”°ë¦„
- `SELECT` ê¶Œí•œì´ ìˆëŠ” ë°ì´í„°ë§Œ Realtimeìœ¼ë¡œ ìˆ˜ì‹  ê°€ëŠ¥
- ê³µì§€ì‚¬í•­ì˜ ê²½ìš° `is_active=true`ì¸ ê²ƒë§Œ publicì—ê²Œ ì „ì†¡ë¨

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ
- [Supabase Realtime ê³µì‹ ë¬¸ì„œ](https://supabase.com/docs/guides/realtime)
- [PostgreSQL Replication ì„¤ì •](https://supabase.com/docs/guides/database/replication)

