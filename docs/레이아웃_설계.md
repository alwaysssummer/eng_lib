# 🎨 레이아웃 설계 - 3단 구조 (A4 PDF 최적화)

## 📐 전체 레이아웃 구조

### 데스크톱 (1920px 기준)

```
┌───────────────────────────────────────────────────────────────────┐
│                          Header (선택사항)                          │
├─────────┬───────────────────────────────────────┬─────────┤
│         │                                       │         │
│  좌측    │            중앙 (PDF)                  │  우측    │
│  280px  │           1360px (flex-1)             │  280px  │
│  14.6%  │              70.8%                    │  14.6%  │
│         │                                       │         │
│ ┌─────┐ │  ┌─────────────────────────────┐     │ ┌─────┐ │
│ │교재  │ │  │                             │     │ │최근  │ │
│ │트리  │ │  │       PDF Viewer            │     │ │조회  │ │
│ │     │ │  │     (700-800px 표시)         │     │ │     │ │
│ │클릭수│ │  │       중앙 정렬              │     │ │요청  │ │
│ │표시 │ │  │      max-w-[900px]          │     │ │순위  │ │
│ │     │ │  │                             │     │ │     │ │
│ │검색  │ │  │       A4 크기               │     │ │공지  │ │
│ │정렬  │ │  │    595px × 842px            │     │ │사항  │ │
│ │     │ │  │                             │     │ │     │ │
│ └─────┘ │  └─────────────────────────────┘     │ └─────┘ │
│         │                                       │         │
│ [요청]  │                                       │         │
└─────────┴───────────────────────────────────────┴─────────┘

총 너비: 1920px
좌측: 280px (고정)
중앙: 1360px (flex-1, max-w-900px로 제한하여 PDF 중앙 정렬)
우측: 280px (고정)
```

---

## 🖥️ 화면 크기별 레이아웃

### 1. 대형 데스크톱 (≥ 1920px)
```
┌─────────┬──────────────────────┬─────────┐
│  280px  │    1360px+ (flex-1)  │  280px  │
│         │  max-w-[900px] 중앙   │         │
└─────────┴──────────────────────┴─────────┘

PDF 표시 크기: 800px (여유있음)
좌우 패널: 모두 표시
```

### 2. 일반 데스크톱 (1366px - 1920px)
```
┌─────────┬──────────────────────┬─────────┐
│  240px  │    886px (flex-1)    │  240px  │
│         │  max-w-[800px] 중앙   │         │
└─────────┴──────────────────────┴─────────┘

PDF 표시 크기: 700px (적절)
좌우 패널: 약간 축소
```

### 3. 노트북 (1024px - 1366px)
```
┌─────────┬──────────────────────┬─────────┐
│  240px  │    544px (flex-1)    │  240px  │
│         │    PDF 축소 필요      │         │
└─────────┴──────────────────────┴─────────┘

PDF 표시 크기: 500px (축소됨)
우측 패널: 숨김 (토글)
```

### 4. 태블릿 (768px - 1024px)
```
┌──────────────────────────────────────┐
│          중앙 (PDF) 100%              │
│        max-w-[700px] 중앙             │
└──────────────────────────────────────┘

[Drawer] [Drawer]  ← 좌우 패널은 드로어로

PDF 표시 크기: 700px (전체 화면 활용)
좌우 패널: 드로어/시트로 전환
```

### 5. 모바일 (< 768px)
```
┌────────────────┐
│   탭 네비게이션  │
│ [교재][PDF][정보]│
├────────────────┤
│                │
│   활성 탭 내용   │
│                │
└────────────────┘

PDF 표시: 화면 너비 100% (스크롤)
탭으로 전환
```

---

## 📏 구체적인 크기 명세

### 좌측 패널 (280px)

```
┌───────────────────────────────┐
│ 검색 + 정렬 (60px)             │
├───────────────────────────────┤
│                               │
│ 트리 영역 (calc(100vh-140px)) │
│ - overflow-y: auto            │
│ - 스크롤 가능                  │
│                               │
├───────────────────────────────┤
│ 하단 상태 (80px)               │
│ - 동기화 상태                  │
│ - 교재 요청 버튼               │
└───────────────────────────────┘

총 너비: 280px
높이: 100vh
배경: bg-background
테두리: border-r
```

### 중앙 패널 (flex-1)

```
┌─────────────────────────────────┐
│ 전체 영역: flex-1                │
│ ┌─────────────────────────────┐ │
│ │ PDF Container               │ │
│ │ max-w-[900px]               │ │
│ │ mx-auto (중앙 정렬)          │ │
│ │ ┌─────────────────────────┐ │ │
│ │ │ PDF Viewer              │ │ │
│ │ │ 700-800px 실제 표시      │ │ │
│ │ │                         │ │ │
│ │ │ A4: 595px × 842px       │ │ │
│ │ │                         │ │ │
│ │ │ + 여백 및 컨트롤         │ │ │
│ │ └─────────────────────────┘ │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘

외부: flex-1
컨테이너: max-w-[900px] mx-auto
PDF: 700-800px (중앙 정렬)
배경: bg-muted/30
```

### 우측 패널 (280px)

```
┌───────────────────────────────┐
│ 최근 조회 (30%)                │
│ - 스크롤 가능                  │
├───────────────────────────────┤
│ 요청 순위 (30%)                │
│ - Top 5 표시                  │
├───────────────────────────────┤
│ 공지사항 (40%)                 │
│ - 최신 3개                    │
│ - 접기/펼치기                  │
└───────────────────────────────┘

총 너비: 280px
높이: 100vh
배경: bg-background
테두리: border-l
```

---

## 🎨 Tailwind CSS 구현

### 기본 레이아웃

```tsx
// components/layout/ThreeColumnLayout.tsx
export function ThreeColumnLayout({ 
  children 
}: { 
  children: React.ReactNode 
}) {
  return (
    <div className="flex h-screen w-full overflow-hidden">
      {/* 좌측 패널 */}
      <LeftSidebar />
      
      {/* 중앙 패널 - PDF */}
      <main className="flex-1 flex items-center justify-center overflow-hidden bg-muted/30">
        <div className="w-full max-w-[900px] h-full p-4 md:p-6">
          {children}
        </div>
      </main>
      
      {/* 우측 패널 */}
      <RightSidebar />
    </div>
  );
}
```

### 좌측 패널

```tsx
function LeftSidebar() {
  return (
    <aside className="w-[280px] border-r bg-background flex flex-col">
      {/* 상단: 검색 + 정렬 */}
      <div className="p-4 border-b space-y-3">
        <SearchBar />
        <div className="flex gap-2">
          <SortToggle />
          <SyncButton />
        </div>
      </div>

      {/* 중간: 트리 (스크롤) */}
      <ScrollArea className="flex-1">
        <div className="p-4">
          <FileTree />
        </div>
      </ScrollArea>

      {/* 하단: 상태 + 요청 */}
      <div className="p-4 border-t space-y-2">
        <SyncStatus />
        <Button variant="outline" className="w-full">
          + 교재 요청하기
        </Button>
      </div>
    </aside>
  );
}
```

### 중앙 패널 (PDF)

```tsx
function PDFViewerPanel() {
  return (
    <main className="flex-1 flex items-center justify-center overflow-hidden bg-muted/30">
      {/* PDF 컨테이너: 최대 900px, 중앙 정렬 */}
      <div className="w-full max-w-[900px] h-full p-6">
        {/* PDF 뷰어: 실제로는 700-800px로 표시됨 */}
        <div className="h-full bg-white rounded-lg shadow-lg overflow-auto">
          <PDFViewer 
            url="/path/to/pdf"
            width={700} // A4 크기 최적화
          />
        </div>
      </div>
    </main>
  );
}
```

### 우측 패널

```tsx
function RightSidebar() {
  return (
    <aside className="w-[280px] border-l bg-background overflow-y-auto">
      <div className="p-4 space-y-6">
        {/* 최근 조회 */}
        <section>
          <h3 className="font-semibold mb-3">최근 조회</h3>
          <RecentFiles limit={10} />
        </section>

        <Separator />

        {/* 요청 순위 */}
        <section>
          <h3 className="font-semibold mb-3">요청 순위</h3>
          <RequestedTextbooks limit={5} />
        </section>

        <Separator />

        {/* 공지사항 */}
        <section>
          <h3 className="font-semibold mb-3">공지사항</h3>
          <Notices limit={3} />
        </section>
      </div>
    </aside>
  );
}
```

---

## 📱 반응형 구현

### Breakpoint 정의

```tsx
// tailwind.config.ts에 추가 (이미 포함됨)
screens: {
  'sm': '640px',   // 모바일
  'md': '768px',   // 태블릿
  'lg': '1024px',  // 노트북
  'xl': '1280px',  // 데스크톱
  '2xl': '1536px', // 대형
}
```

### 반응형 레이아웃

```tsx
export function ResponsiveLayout() {
  const [leftOpen, setLeftOpen] = useState(false);
  const [rightOpen, setRightOpen] = useState(false);

  return (
    <div className="flex h-screen w-full">
      {/* 좌측 패널 */}
      <aside 
        className={cn(
          "border-r bg-background flex flex-col",
          // 데스크톱: 항상 표시
          "hidden lg:flex lg:w-[280px]",
          // 태블릿 이하: 드로어
          leftOpen && "flex w-[280px] absolute left-0 top-0 z-40 h-full shadow-lg"
        )}
      >
        {/* 내용 */}
      </aside>

      {/* 오버레이 (모바일) */}
      {leftOpen && (
        <div 
          className="lg:hidden fixed inset-0 bg-black/50 z-30"
          onClick={() => setLeftOpen(false)}
        />
      )}

      {/* 중앙 패널 */}
      <main className="flex-1 flex flex-col">
        {/* 모바일 헤더 */}
        <div className="lg:hidden flex items-center gap-2 p-4 border-b">
          <Button
            variant="ghost"
            size="icon"
            onClick={() => setLeftOpen(true)}
          >
            <Menu />
          </Button>
          <h1 className="font-semibold">영어 자료실</h1>
        </div>

        {/* PDF 영역 */}
        <div className="flex-1 flex items-center justify-center overflow-hidden bg-muted/30">
          <div className="w-full max-w-[900px] h-full p-4 md:p-6">
            {/* PDF */}
          </div>
        </div>
      </main>

      {/* 우측 패널 */}
      <aside 
        className={cn(
          "border-l bg-background overflow-y-auto",
          // 대형 화면만 표시
          "hidden xl:block xl:w-[280px]"
        )}
      >
        {/* 내용 */}
      </aside>
    </div>
  );
}
```

---

## 📊 PDF 표시 최적화

### A4 크기 계산

```
A4 용지: 210mm × 297mm

72 DPI (웹 표준):
- 너비: 595px
- 높이: 842px

150 DPI (고해상도):
- 너비: 1240px
- 높이: 1754px

권장 표시 크기:
- 700px: 117% 확대 (읽기 편함)
- 800px: 134% 확대 (더 편함)
- 900px: 151% 확대 (너무 큼)
```

### PDF 뷰어 설정

```tsx
<PDFViewer
  url={pdfUrl}
  width={700}  // 기본 너비
  scale={1.2}  // 약간 확대
  className="mx-auto" // 중앙 정렬
/>
```

---

## ✅ 레이아웃 체크리스트

### 데스크톱
- [ ] 좌측 280px 고정
- [ ] 중앙 flex-1, max-w-900px
- [ ] 우측 280px 고정
- [ ] PDF 700-800px로 중앙 정렬
- [ ] 각 패널 독립 스크롤

### 반응형
- [ ] 1024px 이하: 우측 패널 숨김
- [ ] 768px 이하: 좌측 패널 드로어
- [ ] 640px 이하: 탭 전환
- [ ] PDF 항상 중앙 정렬 유지

### 성능
- [ ] 스크롤 최적화 (ScrollArea)
- [ ] PDF lazy loading
- [ ] 이미지 최적화
- [ ] 메모이제이션

---

**작성일**: 2025-11-10  
**버전**: 1.0 - A4 PDF 최적화 레이아웃

